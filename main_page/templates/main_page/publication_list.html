{% extends 'base.html' %}
{% load static %}
{% block title %}Home{% endblock title %}

{% block content %}
<div id="pub-menu-panel-bg" class="pub-menu-panel-bg panel-hide"></div>
<div id="pub-img-view" class="pub-img-view img-view img-view-hide">
    <img id="pub-img-view-img" src="" alt="">
</div>
<div class="main_page_alert_wrap panel-hide" id="repost_s_alert">
    <div class="main_page_alert">
        <div class="main_page_alert-top-side">
            <h2>Repost</h2>
            <button id="main_page_alert_close">
                <img src="{% static 'img/close.svg' %}" alt="">
            </button>
        </div>
        <div class="repost-content">
            <textarea id="repost_text"></textarea>
        </div>
        <div class="repost-pub-wrap">
            <img src="{% static 'img/repost_pub.svg' %}" alt="">
            <div class="pub-repost">
                <div class="top-side">
                    <div class="pub-profile">
                        <div class="pub-profile-img">
                            <img src="{% static 'img/p4.jpg' %}" alt="">
                        </div>
                        <div class="pub-profile-username">
                            renxob
                        </div>
                    </div>
                </div>
                <div class="pub-repost-content">
                    <div class="pub-repost-s-img">
                        <img class="pub_img" src="{% static 'img/p4.jpg' %}" alt="">
                    </div>
                    <div class="repost-text">
                        It is a long established fact that a reader 
                        will be distracted by the readable content 
                        of a page when looking at its layout. The point 
                        of using Lorem Ipsum is that it has a more-or-less 
                        will be distracted by the readable content 
                        normal distribut.
                    </div>
                </div>
            </div>
        </div>
        <button id="main_page_alert_btn">Repost</button>
    </div>
</div>
<div class="pub-list-wrap">
    <div class="pub-t-text-wrap">
        <div class="top-side">
            <div class="pub-profile">
                <div class="pub-profile-img">
                    <img src="{% static 'img/p4.jpg' %}" alt="">
                </div>
                <div class="pub-profile-username">
                    renxob
                </div>
            </div>
            <div class="pub-menu-wrap">
                <button class="pub-menu-btn">
                    <img src="{% static 'img/menu_1.svg' %}" alt="">
                </button>
                <div class="pub-panel panel-menu-hide">
                    <a>Copy url</a>
                    <a>Copy id</a>
                    <a href="">Edit</a>
                    <a>Add to bookmarks</a>
                </div>
            </div>
        </div>
        <div class="pub-content-wrap">
            <div class="s-text load-more">
                It is a long established fact that a reader 
                will be distracted by the readable content of a 
                page when looking at its layout. The point of 
                using Lorem Ipsum is that it has a more-or-less 
                normal distribution of letters, as opposed to using 
                'Content here, content here', making it look like readable 
                English. Many desktop publishing packages and web page 
                English. Many desktop publishing packages and web page 
                editors now use Lorem Ipsum as their default model text.
            </div>
            <div class="pub-load-more">Load more</div>
        </div>
        <div class="bottom-side">
            <div class="bottom-side-btns">
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn like_btn"><img class="like-img" src="{% static 'img/dont_like.svg' %}" alt=""><div class="num-of-likes dont_like">435</div></button>
                </div>
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn"><img src="{% static 'img/comment.svg' %}" alt=""><div class="num-of">34</div></button>
                </div>
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn repost_btn"><img src="{% static 'img/repost.svg' %}" alt=""><div class="num-of">34</div></button>
                </div>
                <div class="pub-date-id">
                    <div class="pub-id">*<div>23V32B</div></div>
                    <div class="pub-date">02.05.2022</div>
                </div>
            </div>
        </div>
    </div>
    <div class="pub-t-text-wrap">
        <div class="top-side">
            <div class="pub-profile">
                <div class="pub-profile-img">
                    <img src="{% static 'img/p4.jpg' %}" alt="">
                </div>
                <div class="pub-profile-username">
                    renxob
                </div>
            </div>
            <div class="pub-menu-wrap">
                <button class="pub-menu-btn">
                    <img src="{% static 'img/menu_1.svg' %}" alt="">
                </button>
                <div class="pub-panel panel-menu-hide">
                    <a>Copy url</a>
                    <a>Copy id</a>
                    <a href="">Edit</a>
                    <a>Add to bookmarks</a>
                </div>
            </div>
        </div>
            <div class="pub-content-wrap pub-s-content">
                <div class="pub-s-img">
                    <img class="pub_img" src="{% static 'img/p4.jpg' %}" alt="">
                </div>
                <div class="pub-s-text-wrap">
                    <div class="pub-s-text">
                        It is a long established fact that a reader 
                        will be distracted by the readable content 
                        of a page when looking at its layout. The point 
                        of using Lorem Ipsum is that it has a more-or-less 
                        using 'Content here, content here', making.
                        <div class="pub-tag">#code #hello #tag</div>
                    </div>
                </div>
            </div>
        <div class="bottom-side">
            <div class="bottom-side-btns">
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn like_btn"><img class="like-img" src="{% static 'img/dont_like.svg' %}" alt=""><div class="num-of-likes dont_like">435</div></button>
                </div>
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn"><img src="{% static 'img/comment.svg' %}" alt=""><div class="num-of">34</div></button>
                </div>
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn repost_btn"><img src="{% static 'img/repost.svg' %}" alt=""><div class="num-of">34</div></button>
                </div>
                <div class="pub-date-id">
                    <div class="pub-id">*<div>23V32B</div></div>
                    <div class="pub-date">02.05.2022</div>
                </div>
            </div>
        </div>
    </div>
    <div class="pub-t-text-wrap">
        <div class="top-side">
            <div class="pub-profile">
                <div class="pub-profile-img">
                    <img src="{% static 'img/p4.jpg' %}" alt="">
                </div>
                <div class="pub-profile-username">
                    renxob
                </div>
            </div>
            <div class="pub-menu-wrap">
                <button class="pub-menu-btn">
                    <img src="{% static 'img/menu_1.svg' %}" alt="">
                </button>
                <div class="pub-panel panel-menu-hide">
                    <a>Copy url</a>
                    <a>Copy id</a>
                    <a href="">Edit</a>
                    <a>Add to bookmarks</a>
                </div>
            </div>
        </div>
            <div class="pub-content-wrap pub-s-content">
                <div class="pub-s-img">
                    <img class="pub_img" src="{% static 'img/p5.jpg' %}" alt="">
                </div>
                <div class="pub-s-img">
                    <img class="pub_img" src="{% static 'img/p5.jpg' %}" alt="">
                </div>
                <div class="pub-s-text-wrap">
                    <div class="pub-s-text">
                        It is a long established fact that a reader 
                        will be distracted by the readable content 
                        of a page when looking at its layout. The point 
                        of using Lorem Ipsum is that it has a more-or-less 
                        using 'Content here, content here', making.
                        <div class="pub-tag">#code #hello #tag</div>
                    </div>
                </div>
            </div>
        <div class="bottom-side">
            <div class="bottom-side-btns">
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn like_btn"><img class="like-img" src="{% static 'img/dont_like.svg' %}" alt=""><div class="num-of-likes dont_like">435</div></button>
                </div>
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn"><img src="{% static 'img/comment.svg' %}" alt=""><div class="num-of">34</div></button>
                </div>
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn repost_btn"><img src="{% static 'img/repost.svg' %}" alt=""><div class="num-of">34</div></button>
                </div>
                <div class="pub-date-id">
                    <div class="pub-id">*<div>23V32B</div></div>
                    <div class="pub-date">02.05.2022</div>
                </div>
            </div>
        </div>
    </div>
    <div class="pub-t-text-wrap">
        <div class="top-side">
            <div class="pub-profile">
                <div class="pub-profile-img">
                    <img src="{% static 'img/p4.jpg' %}" alt="">
                </div>
                <div class="pub-profile-username">
                    renxob
                </div>
            </div>
            <div class="pub-menu-wrap">
                <button class="pub-menu-btn">
                    <img src="{% static 'img/menu_1.svg' %}" alt="">
                </button>
                <div class="pub-panel panel-menu-hide">
                    <a>Copy url</a>
                    <a>Copy id</a>
                    <a href="">Edit</a>
                    <a>Add to bookmarks</a>
                </div>
            </div>
        </div>
            <div class="pub-content-wrap pub-s-content">
                <div class="pub-s-img p3">
                    <img class="pub_img" src="{% static 'img/p5.jpg' %}" alt="">
                </div>
                <div class="pub-s-img p3">
                    <img class="pub_img" src="{% static 'img/p5.jpg' %}" alt="">
                </div>
                <div class="pub-s-text-wrap">
                    <div class="pub-s-text">
                        It is a long established fact that a reader 
                        will be distracted by the readable content 
                        of a page when looking at its layout. The point 
                        of using Lorem Ipsum is that it has a more-or-less 
                        using 'Content here, content here', making.
                        <div class="pub-tag">#code #hello #tag</div>
                    </div>
                    <a href="" class="open-pub">Open publication</a>
                </div>
            </div>
        <div class="bottom-side">
            <div class="bottom-side-btns">
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn like_btn"><img class="like-img" src="{% static 'img/dont_like.svg' %}" alt=""><div class="num-of-likes dont_like">435</div></button>
                </div>
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn"><img src="{% static 'img/comment.svg' %}" alt=""><div class="num-of">34</div></button>
                </div>
                <div class="bottom-side-btn-wrap">
                    <button class="bottom-side-btn repost_btn"><img src="{% static 'img/repost.svg' %}" alt=""><div class="num-of">34</div></button>
                </div>
                <div class="pub-date-id">
                    <div class="pub-id">*<div>23V32B</div></div>
                    <div class="pub-date">02.05.2022</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block script %}
<script>
    if(document.getElementsByClassName('like-btn-wrap')){
        let like_btns = document.getElementsByClassName('like_btn');
        let num_of_likes = document.getElementsByClassName('num-of-likes');
        for (let i = 0; i < like_btns.length; i++) {
            like_btns[i].onclick = function(){
                if(num_of_likes[i].classList.contains('dont_like')){
                    document.getElementsByClassName('like-img')[i].src = `{% static 'img/like.svg' %}`;
                    num_of_likes[i].classList.remove('dont_like');
                    num_of_likes[i].classList.add('like');
                    num = parseInt(num_of_likes[i].innerHTML);
                    num ++;
                    num_of_likes[i].innerHTML = num;
                }
                else{
                    document.getElementsByClassName('like-img')[i].src = `{% static 'img/dont_like.svg' %}`;
                    num_of_likes[i].classList.remove('like');
                    num_of_likes[i].classList.add('dont_like');
                    num = parseInt(num_of_likes[i].innerHTML);
                    num --;
                    num_of_likes[i].innerHTML = num;
                }
            }       
        }
    }
</script>        
{% endblock script %}
